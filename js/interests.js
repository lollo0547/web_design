function initializeInterestCards(){let t=document.querySelectorAll(".interest-card"),e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(setTimeout(()=>{t.target.classList.add("active")},100),e.unobserve(t.target))})},{threshold:.2});t.forEach(t=>{e.observe(t)})}function setupInterestCards3DEffect(){let t=document.querySelectorAll(".interest-card");"ontouchstart"in window||navigator.maxTouchPoints>0||t.forEach(t=>{t.addEventListener("mousemove",function(t){let e=this.getBoundingClientRect(),r=(t.clientX-e.left)/e.width-.5,s=(t.clientY-e.top)/e.height-.5;this.style.transform=`perspective(1000px) rotateY(${5*r}deg) rotateX(${-(5*s)}deg) translateY(-10px)`;let i=this.querySelector(".interest-highlight");i&&(i.style.opacity="0.15",i.style.transform=`translate(${10*r+4}px, ${10*s+4}px) scale(1.1)`);let n=this.querySelector(".interest-icon");n&&(n.style.transform="translateY(-5px) scale(1.05)")}),t.addEventListener("mouseleave",function(){this.style.transform="";let t=this.querySelector(".interest-highlight");t&&(t.style.opacity="",t.style.transform="");let e=this.querySelector(".interest-icon");e&&(e.style.transform="")})})}function setupInterestModals(){let t=document.querySelectorAll(".interest-card"),e=document.querySelectorAll(".interest-modal"),r=document.querySelectorAll(".interest-modal-close");function s(t){t.classList.remove("active"),document.body.style.overflow="",t.setAttribute("aria-hidden","true"),document.querySelectorAll("body > *:not(#"+t.id+")").forEach(t=>{t.removeAttribute("aria-hidden")})}t.forEach(t=>{let e=t.querySelector("[data-modal]"),r=e?e.getAttribute("data-modal"):null;r&&(t.style.cursor="pointer",t.addEventListener("click",function(t){if(t.target.closest(".interest-modal-close"))return;let e=document.getElementById(r);e&&(e.classList.add("active"),document.body.style.overflow="hidden",e.setAttribute("aria-hidden","false"),setTimeout(()=>{e.setAttribute("tabindex","-1"),e.focus()},10),document.querySelectorAll("body > *:not(#"+r+")").forEach(t=>{t.setAttribute("aria-hidden","true")}))}))}),r.forEach(t=>{t.addEventListener("click",function(){let t=this.closest(".interest-modal");s(t)})}),e.forEach(t=>{t.addEventListener("click",function(t){t.target===this&&s(this)}),t.setAttribute("aria-hidden","true")}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.forEach(t=>{t.classList.contains("active")&&s(t)})})}document.addEventListener("DOMContentLoaded",function(){initializeInterestCards(),setupInterestCards3DEffect(),setupInterestModals()});