function initBackToTop(){let e=document.querySelector(".back-to-top");e&&(window.addEventListener("scroll",function(){window.pageYOffset>300?e.classList.add("show"):e.classList.remove("show")}),e.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))}function initNewsletterForm(){let e=document.querySelector(".subscribe-form");if(!e)return;e.addEventListener("submit",function(t){t.preventDefault();let s=this.querySelector(".subscribe-input"),i=s.value.trim();if(!isValidEmail(i)){s.classList.add("error");return}s.classList.remove("error");let r=document.createElement("p");r.classList.add("subscribe-success"),r.textContent="Grazie per l'iscrizione!",s.value="";let n=e.parentElement;n.appendChild(r),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{r.remove()},300)},3e3)});let t=e.querySelector(".subscribe-input");t&&t.addEventListener("focus",function(){this.classList.remove("error")})}function isValidEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}document.addEventListener("DOMContentLoaded",function(){initBackToTop(),initNewsletterForm()});